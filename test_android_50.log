nohup: ignoring input
/home/scratch/sywang/anaconda3/lib/python3.5/site-packages/sklearn/utils/fixes.py:64: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() instead
  if 'order' in inspect.getargspec(np.copy)[0]:
INFO:tensorflow:Loading config from /home/scratch/sywang/seq2seq/example_configs/nmt_medium.yml
INFO:tensorflow:Loading config from /home/scratch/sywang/seq2seq/example_configs/train_seq2seq_optimized.yml
INFO:tensorflow:Loading config from /home/scratch/sywang/seq2seq/example_configs/text_metrics.yml
INFO:tensorflow:Final Config:
buckets: 10,20,30,40
default_params:
- {separator: ' '}
- {postproc_fn: seq2seq.data.postproc.strip_bpe}
hooks:
- {class: PrintModelAnalysisHook}
- {class: MetadataCaptureHook}
- {class: SyncReplicasOptimizerHook}
- class: TrainSampleHook
  params: {every_n_steps: 10000}
metrics:
- {class: LogPerplexityMetricSpec}
- class: BleuMetricSpec
  params: {postproc_fn: seq2seq.data.postproc.strip_bpe, separator: ' '}
model: AttentionSeq2Seq
model_params:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  optimizer.learning_rate: 0.0001
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50

WARNING:tensorflow:Ignoring config flag: default_params
WARNING:tensorflow:From /home/scratch/sywang/seq2seq/bin/train.py:272: run (from tensorflow.contrib.learn.python.learn.learn_runner) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.estimator.train_and_evaluate.
WARNING:tensorflow:From /home/scratch/sywang/seq2seq/bin/train.py:135: RunConfig.__init__ (from tensorflow.contrib.learn.python.learn.estimators.run_config) is deprecated and will be removed in a future version.
Instructions for updating:
When switching to tf.estimator.Estimator, use tf.estimator.RunConfig instead.
INFO:tensorflow:Creating ParallelTextInputPipeline in mode=train
INFO:tensorflow:
ParallelTextInputPipeline:
  num_epochs: null
  shuffle: true
  source_delimiter: ' '
  source_files: [/home/scratch/sywang/project/dataset/android/50//train/buggy.txt]
  target_delimiter: ' '
  target_files: [/home/scratch/sywang/project/dataset/android/50//train/fixed.txt]

INFO:tensorflow:Creating ParallelTextInputPipeline in mode=eval
INFO:tensorflow:
ParallelTextInputPipeline:
  num_epochs: 1
  shuffle: false
  source_delimiter: ' '
  source_files: [/home/scratch/sywang/project/dataset/android/50//eval/buggy.txt]
  target_delimiter: ' '
  target_files: [/home/scratch/sywang/project/dataset/android/50//eval/fixed.txt]

WARNING:tensorflow:From /home/scratch/sywang/anaconda3/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py:1179: BaseEstimator.__init__ (from tensorflow.contrib.learn.python.learn.estimators.estimator) is deprecated and will be removed in a future version.
Instructions for updating:
Please replace uses of any Estimator from tf.contrib.learn with an Estimator from tf.estimator.*
INFO:tensorflow:Using config: {'_environment': 'local', '_master': '', '_tf_random_seed': None, '_device_fn': None, '_tf_config': gpu_options {
  per_process_gpu_memory_fraction: 1.0
}
, '_task_id': 0, '_keep_checkpoint_every_n_hours': 4, '_log_step_count_steps': 100, '_is_chief': True, '_num_worker_replicas': 0, '_save_checkpoints_steps': 10000, '_save_checkpoints_secs': None, '_save_summary_steps': 100, '_train_distribute': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7efcb5651dd8>, '_model_dir': '/home/scratch/sywang/project/dataset/android/50/', '_keep_checkpoint_max': 2, '_session_config': None, '_num_ps_replicas': 0, '_task_type': None, '_evaluation_master': ''}
INFO:tensorflow:Creating PrintModelAnalysisHook in mode=train
INFO:tensorflow:
PrintModelAnalysisHook: {}

INFO:tensorflow:Creating MetadataCaptureHook in mode=train
INFO:tensorflow:
MetadataCaptureHook: {step: 10}

INFO:tensorflow:Creating SyncReplicasOptimizerHook in mode=train
INFO:tensorflow:
SyncReplicasOptimizerHook: {}

INFO:tensorflow:Creating TrainSampleHook in mode=train
INFO:tensorflow:
TrainSampleHook: {every_n_secs: null, every_n_steps: 10000, source_delimiter: ' ',
  target_delimiter: ' '}

INFO:tensorflow:Creating LogPerplexityMetricSpec in mode=eval
INFO:tensorflow:
LogPerplexityMetricSpec: {}

INFO:tensorflow:Creating BleuMetricSpec in mode=eval
INFO:tensorflow:
BleuMetricSpec: {eos_token: SEQUENCE_END, postproc_fn: seq2seq.data.postproc.strip_bpe,
  separator: ' ', sos_token: SEQUENCE_START}

WARNING:tensorflow:From /home/scratch/sywang/seq2seq/seq2seq/contrib/experiment.py:26: Experiment.__init__ (from tensorflow.contrib.learn.python.learn.experiment) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.estimator.train_and_evaluate. You will also have to convert to a tf.estimator.Estimator.
INFO:tensorflow:Training model for 1000 steps
INFO:tensorflow:Creating AttentionSeq2Seq in mode=train
INFO:tensorflow:
AttentionSeq2Seq:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  bridge.params: {}
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  embedding.init_scale: 0.04
  embedding.share: false
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  inference.beam_search.beam_width: 0
  inference.beam_search.choose_successors_fn: choose_top_k
  inference.beam_search.length_penalty_weight: 0.0
  optimizer.clip_embed_gradients: 0.1
  optimizer.clip_gradients: 5.0
  optimizer.learning_rate: 0.0001
  optimizer.lr_decay_rate: 0.99
  optimizer.lr_decay_steps: 100
  optimizer.lr_decay_type: ''
  optimizer.lr_min_learning_rate: 1.0e-12
  optimizer.lr_staircase: false
  optimizer.lr_start_decay_at: 0
  optimizer.lr_stop_decay_at: 2147483647
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  optimizer.sync_replicas: 0
  optimizer.sync_replicas_to_aggregate: 0
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50
  vocab_source: /home/scratch/sywang/project/dataset/android/50//train/vocab.buggy.txt
  vocab_target: /home/scratch/sywang/project/dataset/android/50//train/vocab.fixed.txt

INFO:tensorflow:Creating vocabulary lookup table of size 346
INFO:tensorflow:Creating vocabulary lookup table of size 344
INFO:tensorflow:Creating BidirectionalRNNEncoder in mode=train
INFO:tensorflow:
BidirectionalRNNEncoder:
  init_scale: 0.04
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 1
    residual_combiner: add
    residual_connections: false
    residual_dense: false

WARNING:tensorflow:From /home/scratch/sywang/anaconda3/lib/python3.5/site-packages/tensorflow/python/ops/rnn.py:430: calling reverse_sequence (from tensorflow.python.ops.array_ops) with seq_dim is deprecated and will be removed in a future version.
Instructions for updating:
seq_dim is deprecated, use seq_axis instead
WARNING:tensorflow:From /home/scratch/sywang/anaconda3/lib/python3.5/site-packages/tensorflow/python/util/deprecation.py:454: calling reverse_sequence (from tensorflow.python.ops.array_ops) with batch_dim is deprecated and will be removed in a future version.
Instructions for updating:
batch_dim is deprecated, use batch_axis instead
INFO:tensorflow:Creating AttentionLayerBahdanau in mode=train
INFO:tensorflow:
AttentionLayerBahdanau: {num_units: 256}

INFO:tensorflow:Creating AttentionDecoder in mode=train
INFO:tensorflow:
AttentionDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating ZeroBridge in mode=train
INFO:tensorflow:
ZeroBridge: {}

WARNING:tensorflow:From /home/scratch/sywang/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/function.py:986: calling Graph.create_op (from tensorflow.python.framework.ops) with compute_shapes is deprecated and will be removed in a future version.
Instructions for updating:
Shapes are always computed; don't use the compute_shapes as it has no effect.
WARNING:tensorflow:From /home/scratch/sywang/seq2seq/seq2seq/models/model_base.py:108: get_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_global_step
WARNING:tensorflow:From /home/scratch/sywang/anaconda3/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py:1240: ModelFnOps.__new__ (from tensorflow.contrib.learn.python.learn.estimators.model_fn) is deprecated and will be removed in a future version.
Instructions for updating:
When switching to tf.estimator.Estimator, use tf.estimator.EstimatorSpec. You can use the `estimator_spec` method to create an equivalent one.
INFO:tensorflow:Create CheckpointSaverHook.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:From /home/scratch/sywang/seq2seq/seq2seq/training/hooks.py:249: print_model_analysis (from tensorflow.contrib.tfprof.model_analyzer) is deprecated and will be removed after 2018-01-01.
Instructions for updating:
Use `tf.profiler.profile(graph, run_meta, op_log, cmd, options)`. Build `options` with `tf.profiler.ProfileOptionBuilder`. See README.md for details
-dump_to_file option is deprecated. Please use -output file:outfile=<filename>
-output stdout is overwritten with -output file:outfile=/home/scratch/sywang/project/dataset/android/50/model_analysis.txt
64 ops no flops stats due to incomplete shapes.
INFO:tensorflow:
Doc:
scope: The nodes in the model graph are organized by their names, which is hierarchical like filesystem.
param: Number of parameters (in the Variable).

Profile:
node name | # parameters
_TFProfRoot (--/2.63m params)
  model (--/2.63m params)
    model/att_seq2seq (--/2.63m params)
      model/att_seq2seq/Variable (1, 1/1 params)
      model/att_seq2seq/decode (--/1.75m params)
        model/att_seq2seq/decode/attention (--/197.38k params)
          model/att_seq2seq/decode/attention/att_keys (--/131.33k params)
            model/att_seq2seq/decode/attention/att_keys/biases (256, 256/256 params)
            model/att_seq2seq/decode/attention/att_keys/weights (512x256, 131.07k/131.07k params)
          model/att_seq2seq/decode/attention/att_query (--/65.79k params)
            model/att_seq2seq/decode/attention/att_query/biases (256, 256/256 params)
            model/att_seq2seq/decode/attention/att_query/weights (256x256, 65.54k/65.54k params)
          model/att_seq2seq/decode/attention/v_att (256, 256/256 params)
        model/att_seq2seq/decode/attention_decoder (--/1.47m params)
          model/att_seq2seq/decode/attention_decoder/decoder (--/1.47m params)
            model/att_seq2seq/decode/attention_decoder/decoder/attention_mix (--/196.86k params)
              model/att_seq2seq/decode/attention_decoder/decoder/attention_mix/biases (256, 256/256 params)
              model/att_seq2seq/decode/attention_decoder/decoder/attention_mix/weights (768x256, 196.61k/196.61k params)
            model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell (--/1.18m params)
              model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0 (--/787.20k params)
                model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell (--/787.20k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate (--/262.40k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate/bias (256, 256/256 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate/kernel (1024x256, 262.14k/262.14k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates (--/524.80k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates/bias (512, 512/512 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates/kernel (1024x512, 524.29k/524.29k params)
              model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1 (--/393.98k params)
                model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell (--/393.98k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate (--/131.33k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate/bias (256, 256/256 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates (--/262.66k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates/bias (512, 512/512 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
            model/att_seq2seq/decode/attention_decoder/decoder/logits (--/88.41k params)
              model/att_seq2seq/decode/attention_decoder/decoder/logits/biases (344, 344/344 params)
              model/att_seq2seq/decode/attention_decoder/decoder/logits/weights (256x344, 88.06k/88.06k params)
        model/att_seq2seq/decode/target_embedding (--/88.06k params)
          model/att_seq2seq/decode/target_embedding/W (344x256, 88.06k/88.06k params)
      model/att_seq2seq/encode (--/876.54k params)
        model/att_seq2seq/encode/bidi_rnn_encoder (--/787.97k params)
          model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn (--/787.97k params)
            model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw (--/393.98k params)
              model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell (--/393.98k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate (--/131.33k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate/bias (256, 256/256 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates (--/262.66k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates/bias (512, 512/512 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
            model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw (--/393.98k params)
              model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell (--/393.98k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate (--/131.33k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate/bias (256, 256/256 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates (--/262.66k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates/bias (512, 512/512 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
        model/att_seq2seq/encode/source_embedding (--/88.58k params)
          model/att_seq2seq/encode/source_embedding/W (346x256, 88.58k/88.58k params)

INFO:tensorflow:Graph was finalized.
2018-10-01 13:17:41.711166: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
INFO:tensorflow:Running local_init_op.
INFO:tensorflow:Done running local_init_op.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:Saving checkpoints for 0 into /home/scratch/sywang/project/dataset/android/50/model.ckpt.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:Prediction followed by Target @ Step 1
====================================================================================================
assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals
public java.lang.String toString ( ) { return ( ( ( VAR_1 ) + STRING_1 ) + ( f ) ) + STRING_2 ; } SEQUENCE_END

size size size size size size size size size size size size size size size size size size size size size size pos pos pos pos assertEquals size size size size size size size pos size pos pos pos pos
public void METHOD_1 ( ) { if ( ( VAR_1 ) != null ) VAR_1 . METHOD_2 ( ) ; VAR_2 = false ; if ( ( VAR_3 ) != null ) VAR_3 . METHOD_3 ( ) ; } SEQUENCE_END

long long java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException long long long long content content content } } } } } } } android.util.Slog.w android.util.Slog.w android.util.Slog.w toString toString toString toString e.toString e.toString e.toString content content content content content content content content
public static void METHOD_1 ( TYPE_1 VAR_1 , java.lang.String VAR_2 ) { try { TYPE_2 . METHOD_2 ( ) . METHOD_1 ( VAR_1 , VAR_2 , null ) ; } catch ( android.os.RemoteException e ) { } } SEQUENCE_END

long java.io.IOException java.io.IOException java.io.IOException java.io.IOException TYPE_4 TYPE_4 TYPE_4 TYPE_4 ret android.os.RemoteException android.os.RemoteException android.os.RemoteException android.os.RemoteException android.os.RemoteException TYPE_4 android.os.RemoteException android.os.RemoteException android.os.RemoteException android.os.RemoteException android.os.RemoteException TYPE_4 TYPE_4 TYPE_4 TYPE_4 TYPE_4 TYPE_4 TYPE_4 TYPE_4 TYPE_4 TYPE_4 TYPE_4 java.io.IOException java.io.IOException pos pos pos pos TYPE_4 TYPE_4 TYPE_4
public void METHOD_1 ( int VAR_1 , android.os.Message VAR_2 ) { super . METHOD_1 ( VAR_1 , VAR_2 ) ; if ( ( VAR_3 ) != null ) { VAR_3 . METHOD_1 ( VAR_1 , VAR_2 ) ; } } SEQUENCE_END

java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos
private void METHOD_1 ( ) { METHOD_2 ( VAR_1 , ( ( TYPE_1 . METHOD_3 ( METHOD_4 ( ) . METHOD_5 ( ) , VAR_2 , 1 ) ) != 0 ) ) ; } SEQUENCE_END

java.lang.System.out.println java.lang.System.out.println java.lang.System.out.println java.lang.System.out.println java.lang.System.out.println java.lang.System.out.println source source java.lang.System.out.println java.lang.System.out.println java.lang.System.out.println java.lang.System.out.println android.util.Log.e android.util.Log.e android.util.Log.e android.util.Log.e android.util.Log.e android.util.Log.e android.util.Log.e android.util.Log.e android.util.Log.e INT_3 INT_3 INT_3 INT_3 INT_3 VAR_9 VAR_9 VAR_9 VAR_9 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3
public java.util.List < TYPE_1 > METHOD_1 ( TYPE_2 VAR_1 ) { TYPE_3 c = METHOD_2 ( VAR_1 ) ; if ( c == null ) { return null ; } return c . METHOD_1 ( ) ; } SEQUENCE_END

tree tree tree tree java.io.IOException java.io.IOException java.io.IOException assertEquals assertEquals assertEquals java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException assertEquals pos pos pos pos pos pos pos assertEquals pos pos assertEquals assertEquals assertEquals assertEquals java.lang.System.out.println java.lang.System.out.println java.lang.System.out.println java.lang.System.out.println
public void METHOD_1 ( TYPE_1 context , TYPE_2 element ) { if ( ( VAR_1 ) == null ) { return ; } METHOD_2 ( context , element , element ) ; } SEQUENCE_END

pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos
protected void METHOD_1 ( ) { TYPE_1 . METHOD_3 ( ) . METHOD_4 ( ) ; } SEQUENCE_END

android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w android.util.Slog.w
final void METHOD_1 ( TYPE_1 app , boolean VAR_1 , boolean VAR_2 ) { ( VAR_3 ) ++ ; METHOD_2 ( app , VAR_1 , VAR_2 , 0 ) ; } SEQUENCE_END

device device device java.io.IOException e.toString e.toString java.io.IOException pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos
public void METHOD_1 ( ) { VAR_1 . METHOD_2 ( false ) ; VAR_2 . METHOD_3 ( VAR_3 ) ; } SEQUENCE_END

INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 void void void event INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3
public void run ( final TYPE_1 device , final TYPE_2 test ) throws TYPE_4 , TYPE_5 { VAR_2 = false ; VAR_3 = test ; VAR_3 . run ( device ) ; } SEQUENCE_END

content content content content content content content content content content content content content size size size size size size size content size size size size size size size size content content content content content
public void METHOD_1 ( ) throws java.lang.Exception { org.junit.Assert.assertEquals ( STRING_1 , TYPE_1 . METHOD_2 ( STRING_2 ) ) ; org.junit.Assert.assertEquals ( STRING_3 , TYPE_1 . METHOD_2 ( STRING_4 ) ) ; } SEQUENCE_END

size size size size size size size size size size size size size size size size size size size toString size size size size size size size size size size size size size assertEquals
static long METHOD_1 ( long VAR_1 ) { TYPE_1 VAR_2 = VAR_3 . METHOD_2 ( VAR_1 ) ; if ( VAR_2 == null ) { return 0 ; } return VAR_4 ; } SEQUENCE_END

pos pos pos assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals java.io.IOException java.io.IOException java.io.IOException pos pos pos pos pos pos pos pos pos pos pos pos pos assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals
private int METHOD_1 ( ) { assert TYPE_2 . METHOD_2 ( ) . METHOD_3 ( ) ; if ( VAR_1 ) { return VAR_2 ; } return VAR_3 ; } SEQUENCE_END

assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals assertEquals pos pos pos assertEquals assertEquals pos pos pos pos pos pos pos assertEquals pos pos assertEquals assertEquals assertEquals assertEquals
public TYPE_1 METHOD_1 ( int VAR_1 ) { return new TYPE_1 ( METHOD_2 ( ) , TYPE_3 . get ( VAR_2 ) . booleanValue ( ) , VAR_1 ) ; } SEQUENCE_END

server size server size size size size size size size size size size size size size size size size size size size size size size
public static int METHOD_1 ( int arg1 , int VAR_1 ) { return ( - arg1 ) + ( - VAR_1 ) ; } SEQUENCE_END

device pos pos pos device device pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos listener pos VAR_3 pos pos pos pos pos pos pos
private static void METHOD_1 ( ) { try { Main . METHOD_2 ( ) ; java.lang.System.out.println ( STRING_1 ) ; } catch ( java.lang.NullPointerException ex ) { java.lang.System.out.println ( STRING_2 ) ; } } SEQUENCE_END

pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos assertEquals
public static void METHOD_1 ( TYPE_1 listener ) { synchronized ( VAR_1 ) { if ( ! ( VAR_2 . METHOD_2 ( listener ) ) ) { VAR_2 . METHOD_3 ( listener ) ; } } } SEQUENCE_END

java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException
protected void METHOD_1 ( ) throws java.lang.Throwable { try { if ( ( VAR_1 ) != 0 ) { TYPE_1 . METHOD_2 ( VAR_1 ) ; VAR_1 = 0 ; } } finally { super . METHOD_1 ( ) ; } } SEQUENCE_END

content content content content content content content content content content content content content content content content content content content content content content content content pos content content
public void METHOD_1 ( TYPE_1 VAR_1 , TYPE_2 VAR_2 ) throws java.io.IOException { METHOD_1 ( TYPE_3 . METHOD_2 ( VAR_1 ) , VAR_2 ) ; } SEQUENCE_END

long long long long long long long long long long long long long } long pos pos pos pos pos pos pos , , , , , pos pos pos pos pos pos pos pos pos pos , , , , , , long , , pos toString ,
public TYPE_1 METHOD_1 ( TYPE_1 VAR_1 ) throws java.lang.Exception { if ( ( VAR_2 ) == null ) { return false ; } if ( VAR_1 ) { return VAR_2 . METHOD_2 ( VAR_3 ) ; } else { return VAR_2 . METHOD_2 ( null ) ; } }

VAR_3 VAR_3 VAR_3 VAR_3 METHOD_4 VAR_3 VAR_3 VAR_3 java.util.Map java.util.Map java.util.Map java.util.Map java.util.Map size VAR_3 VAR_3 VAR_3 VAR_3 VAR_3 VAR_3 VAR_3 VAR_3 VAR_3 VAR_3 VAR_3 VAR_3 VAR_3 VAR_3 e.toString e.toString java.util.Map java.util.Map java.util.Map java.util.Map java.util.Map VAR_3 VAR_3
private void METHOD_1 ( int VAR_1 , int VAR_2 ) { int VAR_3 = VAR_1 | ( VAR_2 & INT_1 ) ; VAR_4 . log ( VAR_5 , new TYPE_1 ( VAR_3 ) ) ; } SEQUENCE_END

pos pos pos test test test test test test test test test test test test test test test test test pos test pos test
public static long METHOD_1 ( long arg ) { return ( ( 10 * arg ) * 11 ) * 12 ; } SEQUENCE_END

pos pos assertEquals pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos assertEquals
public static int METHOD_1 ( int arg ) { return INT_1 - ( arg + INT_2 ) ; } SEQUENCE_END

java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException java.io.IOException device device device pos pos java.io.IOException pos pos java.io.IOException java.io.IOException toString e.toString device device
public boolean METHOD_1 ( android.bluetooth.BluetoothDevice device ) { if ( ( VAR_1 ) == null ) return false ; return VAR_1 . METHOD_1 ( device ) ; } SEQUENCE_END

INT_3 INT_3 INT_3 INT_3 INT_3 event event INT_3 INT_3 INT_3 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100
public void METHOD_1 ( java.util.List < TYPE_1 > VAR_1 , TYPE_2 VAR_2 , final TYPE_3 callback ) { METHOD_1 ( VAR_1 , VAR_2 , null , callback , null ) ; } SEQUENCE_END

e.toString assertEquals assertEquals INT_3 INT_3 e.toString e.toString e.toString assertEquals assertEquals assertEquals size size size size e.toString e.toString e.toString e.toString e.toString e.toString e.toString
public static void run ( ) throws java.lang.Exception { TYPE_2 . METHOD_2 ( ) ; java.lang.System.out.println ( STRING_1 ) ; } SEQUENCE_END

INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3
public static < TYPE_1 > TYPE_2 < TYPE_1 > METHOD_1 ( TYPE_1 result , TYPE_3 VAR_1 ) { return new TYPE_2 ( result , VAR_1 ) ; } SEQUENCE_END

event event event event event event event event event event event event event size size size size size size size size assertEquals assertEquals assertEquals assertEquals event event event ; event pos 100 event
synchronized void METHOD_1 ( long id , long [ ] VAR_1 , int VAR_2 ) { METHOD_2 ( ) ; METHOD_3 ( mContext , id , VAR_1 , VAR_2 ) ; } SEQUENCE_END

java.lang.System.out.println java.lang.System.out.println verify verify verify VAR_3 verify verify verify verify verify verify VAR_3 VAR_3 verify VAR_3 VAR_3 rr VAR_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 INT_3 verify INT_3 INT_3 size size size INT_3 INT_3 INT_3 verify INT_3 assertEquals [ assertEquals assertEquals
public java.util.Set < TYPE_1 > METHOD_1 ( ) { java.util.Set < TYPE_1 > VAR_1 = VAR_2 ; if ( VAR_1 == null ) { VAR_1 = new TYPE_2 ( ) ; VAR_2 = VAR_1 ; } return VAR_1 ; } SEQUENCE_END

pos pos pos pos tree tree tree pos tree tree pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos pos
public boolean METHOD_1 ( java.lang.Object obj ) { if ( obj == null ) { return false ; } return METHOD_2 ( obj . METHOD_3 ( ) ) ; } SEQUENCE_END

server server toString e.toString e.toString e.toString e.toString e.toString server server server pos toString toString toString toString toString toString toString toString toString toString toString toString toString toString toString toString toString toString toString toString assertEquals assertEquals assertEquals assertEquals assertEquals
public void METHOD_1 ( ) { TYPE_1 VAR_1 = new TYPE_1 ( ) ; try { VAR_1 . METHOD_2 ( VAR_1 ) ; METHOD_3 ( ) ; } catch ( java.lang.IllegalArgumentException VAR_2 ) { } } SEQUENCE_END

====================================================================================================


INFO:tensorflow:loss = 5.8406315, step = 1
INFO:tensorflow:Performing full trace on next step.
INFO:tensorflow:Captured full trace at step 11
INFO:tensorflow:Saved run_metadata to /home/scratch/sywang/project/dataset/android/50/run_meta
INFO:tensorflow:Saved timeline to /home/scratch/sywang/project/dataset/android/50/timeline.json
WARNING:tensorflow:From /home/scratch/sywang/seq2seq/seq2seq/training/hooks.py:133: write_op_log (from tensorflow.contrib.tfprof.tfprof_logger) is deprecated and will be removed after 2018-01-01.
Instructions for updating:
Use `tf.profiler.write_op_log. go/tfprof`
INFO:tensorflow:Saved op log to /home/scratch/sywang/project/dataset/android/50
INFO:tensorflow:global_step/sec: 1.45818
INFO:tensorflow:loss = 3.7231987, step = 101 (68.576 sec)
INFO:tensorflow:global_step/sec: 1.97288
INFO:tensorflow:loss = 3.2644284, step = 201 (50.688 sec)
INFO:tensorflow:global_step/sec: 2.03869
INFO:tensorflow:loss = 3.0357864, step = 301 (49.052 sec)
INFO:tensorflow:global_step/sec: 2.07263
INFO:tensorflow:loss = 3.3008983, step = 401 (48.247 sec)
INFO:tensorflow:global_step/sec: 2.0167
INFO:tensorflow:loss = 3.420945, step = 501 (49.585 sec)
INFO:tensorflow:global_step/sec: 2.05702
INFO:tensorflow:loss = 3.3207226, step = 601 (48.617 sec)
INFO:tensorflow:global_step/sec: 2.03321
INFO:tensorflow:loss = 2.7858307, step = 701 (49.180 sec)
INFO:tensorflow:global_step/sec: 2.02762
INFO:tensorflow:loss = 3.2398264, step = 801 (49.321 sec)
INFO:tensorflow:global_step/sec: 2.07894
INFO:tensorflow:loss = 3.285274, step = 901 (48.100 sec)
INFO:tensorflow:Saving checkpoints for 1000 into /home/scratch/sywang/project/dataset/android/50/model.ckpt.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:Loss for final step: 2.4941213.
INFO:tensorflow:Evaluating model now.
INFO:tensorflow:Creating AttentionSeq2Seq in mode=eval
INFO:tensorflow:
AttentionSeq2Seq:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  bridge.params: {}
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  embedding.init_scale: 0.04
  embedding.share: false
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  inference.beam_search.beam_width: 0
  inference.beam_search.choose_successors_fn: choose_top_k
  inference.beam_search.length_penalty_weight: 0.0
  optimizer.clip_embed_gradients: 0.1
  optimizer.clip_gradients: 5.0
  optimizer.learning_rate: 0.0001
  optimizer.lr_decay_rate: 0.99
  optimizer.lr_decay_steps: 100
  optimizer.lr_decay_type: ''
  optimizer.lr_min_learning_rate: 1.0e-12
  optimizer.lr_staircase: false
  optimizer.lr_start_decay_at: 0
  optimizer.lr_stop_decay_at: 2147483647
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  optimizer.sync_replicas: 0
  optimizer.sync_replicas_to_aggregate: 0
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50
  vocab_source: /home/scratch/sywang/project/dataset/android/50//train/vocab.buggy.txt
  vocab_target: /home/scratch/sywang/project/dataset/android/50//train/vocab.fixed.txt

INFO:tensorflow:Creating vocabulary lookup table of size 346
INFO:tensorflow:Creating vocabulary lookup table of size 344
INFO:tensorflow:Creating BidirectionalRNNEncoder in mode=eval
INFO:tensorflow:
BidirectionalRNNEncoder:
  init_scale: 0.04
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 1
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating AttentionLayerBahdanau in mode=eval
INFO:tensorflow:
AttentionLayerBahdanau: {num_units: 256}

INFO:tensorflow:Creating AttentionDecoder in mode=eval
INFO:tensorflow:
AttentionDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating ZeroBridge in mode=eval
INFO:tensorflow:
ZeroBridge: {}

WARNING:tensorflow:From /home/scratch/sywang/seq2seq/seq2seq/metrics/metric_specs.py:232: streaming_mean (from tensorflow.contrib.metrics.python.ops.metric_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.metrics.mean
INFO:tensorflow:Starting evaluation at 2018-10-01-17:26:18
INFO:tensorflow:Graph was finalized.
INFO:tensorflow:Restoring parameters from /home/scratch/sywang/project/dataset/android/50/model.ckpt-1000
INFO:tensorflow:Running local_init_op.
INFO:tensorflow:Done running local_init_op.
INFO:tensorflow:Finished evaluation at 2018-10-01-17:26:23
INFO:tensorflow:Saving dict for global step 1000: bleu = 8.19, global_step = 1000, log_perplexity = 2.93745, loss = 2.935968
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:Training model for 1000 steps
INFO:tensorflow:Creating AttentionSeq2Seq in mode=train
INFO:tensorflow:
AttentionSeq2Seq:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  bridge.params: {}
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  embedding.init_scale: 0.04
  embedding.share: false
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  inference.beam_search.beam_width: 0
  inference.beam_search.choose_successors_fn: choose_top_k
  inference.beam_search.length_penalty_weight: 0.0
  optimizer.clip_embed_gradients: 0.1
  optimizer.clip_gradients: 5.0
  optimizer.learning_rate: 0.0001
  optimizer.lr_decay_rate: 0.99
  optimizer.lr_decay_steps: 100
  optimizer.lr_decay_type: ''
  optimizer.lr_min_learning_rate: 1.0e-12
  optimizer.lr_staircase: false
  optimizer.lr_start_decay_at: 0
  optimizer.lr_stop_decay_at: 2147483647
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  optimizer.sync_replicas: 0
  optimizer.sync_replicas_to_aggregate: 0
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50
  vocab_source: /home/scratch/sywang/project/dataset/android/50//train/vocab.buggy.txt
  vocab_target: /home/scratch/sywang/project/dataset/android/50//train/vocab.fixed.txt

INFO:tensorflow:Creating vocabulary lookup table of size 346
INFO:tensorflow:Creating vocabulary lookup table of size 344
INFO:tensorflow:Creating BidirectionalRNNEncoder in mode=train
INFO:tensorflow:
BidirectionalRNNEncoder:
  init_scale: 0.04
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 1
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating AttentionLayerBahdanau in mode=train
INFO:tensorflow:
AttentionLayerBahdanau: {num_units: 256}

INFO:tensorflow:Creating AttentionDecoder in mode=train
INFO:tensorflow:
AttentionDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating ZeroBridge in mode=train
INFO:tensorflow:
ZeroBridge: {}

INFO:tensorflow:Create CheckpointSaverHook.
-dump_to_file option is deprecated. Please use -output file:outfile=<filename>
-output stdout is overwritten with -output file:outfile=/home/scratch/sywang/project/dataset/android/50/model_analysis.txt
64 ops no flops stats due to incomplete shapes.
INFO:tensorflow:
Doc:
scope: The nodes in the model graph are organized by their names, which is hierarchical like filesystem.
param: Number of parameters (in the Variable).

Profile:
node name | # parameters
_TFProfRoot (--/2.63m params)
  model (--/2.63m params)
    model/att_seq2seq (--/2.63m params)
      model/att_seq2seq/Variable (1, 1/1 params)
      model/att_seq2seq/decode (--/1.75m params)
        model/att_seq2seq/decode/attention (--/197.38k params)
          model/att_seq2seq/decode/attention/att_keys (--/131.33k params)
            model/att_seq2seq/decode/attention/att_keys/biases (256, 256/256 params)
            model/att_seq2seq/decode/attention/att_keys/weights (512x256, 131.07k/131.07k params)
          model/att_seq2seq/decode/attention/att_query (--/65.79k params)
            model/att_seq2seq/decode/attention/att_query/biases (256, 256/256 params)
            model/att_seq2seq/decode/attention/att_query/weights (256x256, 65.54k/65.54k params)
          model/att_seq2seq/decode/attention/v_att (256, 256/256 params)
        model/att_seq2seq/decode/attention_decoder (--/1.47m params)
          model/att_seq2seq/decode/attention_decoder/decoder (--/1.47m params)
            model/att_seq2seq/decode/attention_decoder/decoder/attention_mix (--/196.86k params)
              model/att_seq2seq/decode/attention_decoder/decoder/attention_mix/biases (256, 256/256 params)
              model/att_seq2seq/decode/attention_decoder/decoder/attention_mix/weights (768x256, 196.61k/196.61k params)
            model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell (--/1.18m params)
              model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0 (--/787.20k params)
                model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell (--/787.20k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate (--/262.40k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate/bias (256, 256/256 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate/kernel (1024x256, 262.14k/262.14k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates (--/524.80k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates/bias (512, 512/512 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates/kernel (1024x512, 524.29k/524.29k params)
              model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1 (--/393.98k params)
                model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell (--/393.98k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate (--/131.33k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate/bias (256, 256/256 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates (--/262.66k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates/bias (512, 512/512 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
            model/att_seq2seq/decode/attention_decoder/decoder/logits (--/88.41k params)
              model/att_seq2seq/decode/attention_decoder/decoder/logits/biases (344, 344/344 params)
              model/att_seq2seq/decode/attention_decoder/decoder/logits/weights (256x344, 88.06k/88.06k params)
        model/att_seq2seq/decode/target_embedding (--/88.06k params)
          model/att_seq2seq/decode/target_embedding/W (344x256, 88.06k/88.06k params)
      model/att_seq2seq/encode (--/876.54k params)
        model/att_seq2seq/encode/bidi_rnn_encoder (--/787.97k params)
          model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn (--/787.97k params)
            model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw (--/393.98k params)
              model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell (--/393.98k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate (--/131.33k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate/bias (256, 256/256 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates (--/262.66k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates/bias (512, 512/512 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
            model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw (--/393.98k params)
              model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell (--/393.98k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate (--/131.33k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate/bias (256, 256/256 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates (--/262.66k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates/bias (512, 512/512 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
        model/att_seq2seq/encode/source_embedding (--/88.58k params)
          model/att_seq2seq/encode/source_embedding/W (346x256, 88.58k/88.58k params)

INFO:tensorflow:Graph was finalized.
INFO:tensorflow:Restoring parameters from /home/scratch/sywang/project/dataset/android/50/model.ckpt-1000
INFO:tensorflow:Running local_init_op.
INFO:tensorflow:Done running local_init_op.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:Saving checkpoints for 1000 into /home/scratch/sywang/project/dataset/android/50/model.ckpt.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:loss = 2.7433875, step = 1001
INFO:tensorflow:global_step/sec: 1.92723
INFO:tensorflow:loss = 2.8884425, step = 1101 (51.889 sec)
INFO:tensorflow:global_step/sec: 2.03501
INFO:tensorflow:loss = 2.968485, step = 1201 (49.140 sec)
INFO:tensorflow:global_step/sec: 2.03203
INFO:tensorflow:loss = 2.4021, step = 1301 (49.211 sec)
INFO:tensorflow:global_step/sec: 2.06864
INFO:tensorflow:loss = 2.1396496, step = 1401 (48.341 sec)
INFO:tensorflow:global_step/sec: 2.04578
INFO:tensorflow:loss = 1.9286427, step = 1501 (48.881 sec)
INFO:tensorflow:global_step/sec: 2.06013
INFO:tensorflow:loss = 1.8037598, step = 1601 (48.542 sec)
INFO:tensorflow:global_step/sec: 2.06305
INFO:tensorflow:loss = 2.1895795, step = 1701 (48.473 sec)
INFO:tensorflow:global_step/sec: 2.03598
INFO:tensorflow:loss = 2.081866, step = 1801 (49.116 sec)
INFO:tensorflow:global_step/sec: 2.07375
INFO:tensorflow:loss = 2.0659976, step = 1901 (48.222 sec)
INFO:tensorflow:Saving checkpoints for 2000 into /home/scratch/sywang/project/dataset/android/50/model.ckpt.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:Loss for final step: 2.1232913.
INFO:tensorflow:Evaluating model now.
INFO:tensorflow:Creating AttentionSeq2Seq in mode=eval
INFO:tensorflow:
AttentionSeq2Seq:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  bridge.params: {}
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  embedding.init_scale: 0.04
  embedding.share: false
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  inference.beam_search.beam_width: 0
  inference.beam_search.choose_successors_fn: choose_top_k
  inference.beam_search.length_penalty_weight: 0.0
  optimizer.clip_embed_gradients: 0.1
  optimizer.clip_gradients: 5.0
  optimizer.learning_rate: 0.0001
  optimizer.lr_decay_rate: 0.99
  optimizer.lr_decay_steps: 100
  optimizer.lr_decay_type: ''
  optimizer.lr_min_learning_rate: 1.0e-12
  optimizer.lr_staircase: false
  optimizer.lr_start_decay_at: 0
  optimizer.lr_stop_decay_at: 2147483647
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  optimizer.sync_replicas: 0
  optimizer.sync_replicas_to_aggregate: 0
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50
  vocab_source: /home/scratch/sywang/project/dataset/android/50//train/vocab.buggy.txt
  vocab_target: /home/scratch/sywang/project/dataset/android/50//train/vocab.fixed.txt

INFO:tensorflow:Creating vocabulary lookup table of size 346
INFO:tensorflow:Creating vocabulary lookup table of size 344
INFO:tensorflow:Creating BidirectionalRNNEncoder in mode=eval
INFO:tensorflow:
BidirectionalRNNEncoder:
  init_scale: 0.04
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 1
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating AttentionLayerBahdanau in mode=eval
INFO:tensorflow:
AttentionLayerBahdanau: {num_units: 256}

INFO:tensorflow:Creating AttentionDecoder in mode=eval
INFO:tensorflow:
AttentionDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating ZeroBridge in mode=eval
INFO:tensorflow:
ZeroBridge: {}

INFO:tensorflow:Starting evaluation at 2018-10-01-17:34:44
INFO:tensorflow:Graph was finalized.
INFO:tensorflow:Restoring parameters from /home/scratch/sywang/project/dataset/android/50/model.ckpt-2000
INFO:tensorflow:Running local_init_op.
INFO:tensorflow:Done running local_init_op.
INFO:tensorflow:Finished evaluation at 2018-10-01-17:34:48
INFO:tensorflow:Saving dict for global step 2000: bleu = 22.2, global_step = 2000, log_perplexity = 1.8820304, loss = 1.881904
INFO:tensorflow:Training model for 1000 steps
INFO:tensorflow:Creating AttentionSeq2Seq in mode=train
INFO:tensorflow:
AttentionSeq2Seq:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  bridge.params: {}
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  embedding.init_scale: 0.04
  embedding.share: false
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  inference.beam_search.beam_width: 0
  inference.beam_search.choose_successors_fn: choose_top_k
  inference.beam_search.length_penalty_weight: 0.0
  optimizer.clip_embed_gradients: 0.1
  optimizer.clip_gradients: 5.0
  optimizer.learning_rate: 0.0001
  optimizer.lr_decay_rate: 0.99
  optimizer.lr_decay_steps: 100
  optimizer.lr_decay_type: ''
  optimizer.lr_min_learning_rate: 1.0e-12
  optimizer.lr_staircase: false
  optimizer.lr_start_decay_at: 0
  optimizer.lr_stop_decay_at: 2147483647
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  optimizer.sync_replicas: 0
  optimizer.sync_replicas_to_aggregate: 0
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50
  vocab_source: /home/scratch/sywang/project/dataset/android/50//train/vocab.buggy.txt
  vocab_target: /home/scratch/sywang/project/dataset/android/50//train/vocab.fixed.txt

INFO:tensorflow:Creating vocabulary lookup table of size 346
INFO:tensorflow:Creating vocabulary lookup table of size 344
INFO:tensorflow:Creating BidirectionalRNNEncoder in mode=train
INFO:tensorflow:
BidirectionalRNNEncoder:
  init_scale: 0.04
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 1
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating AttentionLayerBahdanau in mode=train
INFO:tensorflow:
AttentionLayerBahdanau: {num_units: 256}

INFO:tensorflow:Creating AttentionDecoder in mode=train
INFO:tensorflow:
AttentionDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating ZeroBridge in mode=train
INFO:tensorflow:
ZeroBridge: {}

INFO:tensorflow:Create CheckpointSaverHook.
-dump_to_file option is deprecated. Please use -output file:outfile=<filename>
-output stdout is overwritten with -output file:outfile=/home/scratch/sywang/project/dataset/android/50/model_analysis.txt
64 ops no flops stats due to incomplete shapes.
INFO:tensorflow:
Doc:
scope: The nodes in the model graph are organized by their names, which is hierarchical like filesystem.
param: Number of parameters (in the Variable).

Profile:
node name | # parameters
_TFProfRoot (--/2.63m params)
  model (--/2.63m params)
    model/att_seq2seq (--/2.63m params)
      model/att_seq2seq/Variable (1, 1/1 params)
      model/att_seq2seq/decode (--/1.75m params)
        model/att_seq2seq/decode/attention (--/197.38k params)
          model/att_seq2seq/decode/attention/att_keys (--/131.33k params)
            model/att_seq2seq/decode/attention/att_keys/biases (256, 256/256 params)
            model/att_seq2seq/decode/attention/att_keys/weights (512x256, 131.07k/131.07k params)
          model/att_seq2seq/decode/attention/att_query (--/65.79k params)
            model/att_seq2seq/decode/attention/att_query/biases (256, 256/256 params)
            model/att_seq2seq/decode/attention/att_query/weights (256x256, 65.54k/65.54k params)
          model/att_seq2seq/decode/attention/v_att (256, 256/256 params)
        model/att_seq2seq/decode/attention_decoder (--/1.47m params)
          model/att_seq2seq/decode/attention_decoder/decoder (--/1.47m params)
            model/att_seq2seq/decode/attention_decoder/decoder/attention_mix (--/196.86k params)
              model/att_seq2seq/decode/attention_decoder/decoder/attention_mix/biases (256, 256/256 params)
              model/att_seq2seq/decode/attention_decoder/decoder/attention_mix/weights (768x256, 196.61k/196.61k params)
            model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell (--/1.18m params)
              model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0 (--/787.20k params)
                model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell (--/787.20k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate (--/262.40k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate/bias (256, 256/256 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate/kernel (1024x256, 262.14k/262.14k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates (--/524.80k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates/bias (512, 512/512 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates/kernel (1024x512, 524.29k/524.29k params)
              model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1 (--/393.98k params)
                model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell (--/393.98k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate (--/131.33k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate/bias (256, 256/256 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates (--/262.66k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates/bias (512, 512/512 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
            model/att_seq2seq/decode/attention_decoder/decoder/logits (--/88.41k params)
              model/att_seq2seq/decode/attention_decoder/decoder/logits/biases (344, 344/344 params)
              model/att_seq2seq/decode/attention_decoder/decoder/logits/weights (256x344, 88.06k/88.06k params)
        model/att_seq2seq/decode/target_embedding (--/88.06k params)
          model/att_seq2seq/decode/target_embedding/W (344x256, 88.06k/88.06k params)
      model/att_seq2seq/encode (--/876.54k params)
        model/att_seq2seq/encode/bidi_rnn_encoder (--/787.97k params)
          model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn (--/787.97k params)
            model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw (--/393.98k params)
              model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell (--/393.98k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate (--/131.33k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate/bias (256, 256/256 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates (--/262.66k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates/bias (512, 512/512 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
            model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw (--/393.98k params)
              model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell (--/393.98k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate (--/131.33k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate/bias (256, 256/256 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates (--/262.66k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates/bias (512, 512/512 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
        model/att_seq2seq/encode/source_embedding (--/88.58k params)
          model/att_seq2seq/encode/source_embedding/W (346x256, 88.58k/88.58k params)

INFO:tensorflow:Graph was finalized.
INFO:tensorflow:Restoring parameters from /home/scratch/sywang/project/dataset/android/50/model.ckpt-2000
INFO:tensorflow:Running local_init_op.
INFO:tensorflow:Done running local_init_op.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:Saving checkpoints for 2000 into /home/scratch/sywang/project/dataset/android/50/model.ckpt.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:loss = 2.0509274, step = 2001
INFO:tensorflow:global_step/sec: 1.90875
INFO:tensorflow:loss = 1.5796404, step = 2101 (52.391 sec)
INFO:tensorflow:global_step/sec: 2.062
INFO:tensorflow:loss = 1.5527582, step = 2201 (48.496 sec)
INFO:tensorflow:global_step/sec: 2.08092
INFO:tensorflow:loss = 2.0276334, step = 2301 (48.058 sec)
INFO:tensorflow:global_step/sec: 2.12203
INFO:tensorflow:loss = 1.9590364, step = 2401 (47.123 sec)
INFO:tensorflow:global_step/sec: 2.08596
INFO:tensorflow:loss = 1.4424953, step = 2501 (47.941 sec)
INFO:tensorflow:global_step/sec: 2.09185
INFO:tensorflow:loss = 1.7558572, step = 2601 (47.804 sec)
INFO:tensorflow:global_step/sec: 2.12379
INFO:tensorflow:loss = 1.6619719, step = 2701 (47.085 sec)
INFO:tensorflow:global_step/sec: 2.11077
INFO:tensorflow:loss = 1.6847011, step = 2801 (47.376 sec)
INFO:tensorflow:global_step/sec: 2.14582
INFO:tensorflow:loss = 1.748867, step = 2901 (46.601 sec)
INFO:tensorflow:Saving checkpoints for 3000 into /home/scratch/sywang/project/dataset/android/50/model.ckpt.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:Loss for final step: 1.5601112.
INFO:tensorflow:Evaluating model now.
INFO:tensorflow:Creating AttentionSeq2Seq in mode=eval
INFO:tensorflow:
AttentionSeq2Seq:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  bridge.params: {}
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  embedding.init_scale: 0.04
  embedding.share: false
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  inference.beam_search.beam_width: 0
  inference.beam_search.choose_successors_fn: choose_top_k
  inference.beam_search.length_penalty_weight: 0.0
  optimizer.clip_embed_gradients: 0.1
  optimizer.clip_gradients: 5.0
  optimizer.learning_rate: 0.0001
  optimizer.lr_decay_rate: 0.99
  optimizer.lr_decay_steps: 100
  optimizer.lr_decay_type: ''
  optimizer.lr_min_learning_rate: 1.0e-12
  optimizer.lr_staircase: false
  optimizer.lr_start_decay_at: 0
  optimizer.lr_stop_decay_at: 2147483647
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  optimizer.sync_replicas: 0
  optimizer.sync_replicas_to_aggregate: 0
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50
  vocab_source: /home/scratch/sywang/project/dataset/android/50//train/vocab.buggy.txt
  vocab_target: /home/scratch/sywang/project/dataset/android/50//train/vocab.fixed.txt

INFO:tensorflow:Creating vocabulary lookup table of size 346
INFO:tensorflow:Creating vocabulary lookup table of size 344
INFO:tensorflow:Creating BidirectionalRNNEncoder in mode=eval
INFO:tensorflow:
BidirectionalRNNEncoder:
  init_scale: 0.04
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 1
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating AttentionLayerBahdanau in mode=eval
INFO:tensorflow:
AttentionLayerBahdanau: {num_units: 256}

INFO:tensorflow:Creating AttentionDecoder in mode=eval
INFO:tensorflow:
AttentionDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating ZeroBridge in mode=eval
INFO:tensorflow:
ZeroBridge: {}

INFO:tensorflow:Starting evaluation at 2018-10-01-17:42:59
INFO:tensorflow:Graph was finalized.
INFO:tensorflow:Restoring parameters from /home/scratch/sywang/project/dataset/android/50/model.ckpt-3000
INFO:tensorflow:Running local_init_op.
INFO:tensorflow:Done running local_init_op.
INFO:tensorflow:Finished evaluation at 2018-10-01-17:43:03
INFO:tensorflow:Saving dict for global step 3000: bleu = 27.85, global_step = 3000, log_perplexity = 1.5664316, loss = 1.5665339
INFO:tensorflow:Training model for 1000 steps
INFO:tensorflow:Creating AttentionSeq2Seq in mode=train
INFO:tensorflow:
AttentionSeq2Seq:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  bridge.params: {}
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  embedding.init_scale: 0.04
  embedding.share: false
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  inference.beam_search.beam_width: 0
  inference.beam_search.choose_successors_fn: choose_top_k
  inference.beam_search.length_penalty_weight: 0.0
  optimizer.clip_embed_gradients: 0.1
  optimizer.clip_gradients: 5.0
  optimizer.learning_rate: 0.0001
  optimizer.lr_decay_rate: 0.99
  optimizer.lr_decay_steps: 100
  optimizer.lr_decay_type: ''
  optimizer.lr_min_learning_rate: 1.0e-12
  optimizer.lr_staircase: false
  optimizer.lr_start_decay_at: 0
  optimizer.lr_stop_decay_at: 2147483647
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  optimizer.sync_replicas: 0
  optimizer.sync_replicas_to_aggregate: 0
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50
  vocab_source: /home/scratch/sywang/project/dataset/android/50//train/vocab.buggy.txt
  vocab_target: /home/scratch/sywang/project/dataset/android/50//train/vocab.fixed.txt

INFO:tensorflow:Creating vocabulary lookup table of size 346
INFO:tensorflow:Creating vocabulary lookup table of size 344
INFO:tensorflow:Creating BidirectionalRNNEncoder in mode=train
INFO:tensorflow:
BidirectionalRNNEncoder:
  init_scale: 0.04
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 1
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating AttentionLayerBahdanau in mode=train
INFO:tensorflow:
AttentionLayerBahdanau: {num_units: 256}

INFO:tensorflow:Creating AttentionDecoder in mode=train
INFO:tensorflow:
AttentionDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating ZeroBridge in mode=train
INFO:tensorflow:
ZeroBridge: {}

INFO:tensorflow:Create CheckpointSaverHook.
-dump_to_file option is deprecated. Please use -output file:outfile=<filename>
-output stdout is overwritten with -output file:outfile=/home/scratch/sywang/project/dataset/android/50/model_analysis.txt
64 ops no flops stats due to incomplete shapes.
INFO:tensorflow:
Doc:
scope: The nodes in the model graph are organized by their names, which is hierarchical like filesystem.
param: Number of parameters (in the Variable).

Profile:
node name | # parameters
_TFProfRoot (--/2.63m params)
  model (--/2.63m params)
    model/att_seq2seq (--/2.63m params)
      model/att_seq2seq/Variable (1, 1/1 params)
      model/att_seq2seq/decode (--/1.75m params)
        model/att_seq2seq/decode/attention (--/197.38k params)
          model/att_seq2seq/decode/attention/att_keys (--/131.33k params)
            model/att_seq2seq/decode/attention/att_keys/biases (256, 256/256 params)
            model/att_seq2seq/decode/attention/att_keys/weights (512x256, 131.07k/131.07k params)
          model/att_seq2seq/decode/attention/att_query (--/65.79k params)
            model/att_seq2seq/decode/attention/att_query/biases (256, 256/256 params)
            model/att_seq2seq/decode/attention/att_query/weights (256x256, 65.54k/65.54k params)
          model/att_seq2seq/decode/attention/v_att (256, 256/256 params)
        model/att_seq2seq/decode/attention_decoder (--/1.47m params)
          model/att_seq2seq/decode/attention_decoder/decoder (--/1.47m params)
            model/att_seq2seq/decode/attention_decoder/decoder/attention_mix (--/196.86k params)
              model/att_seq2seq/decode/attention_decoder/decoder/attention_mix/biases (256, 256/256 params)
              model/att_seq2seq/decode/attention_decoder/decoder/attention_mix/weights (768x256, 196.61k/196.61k params)
            model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell (--/1.18m params)
              model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0 (--/787.20k params)
                model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell (--/787.20k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate (--/262.40k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate/bias (256, 256/256 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate/kernel (1024x256, 262.14k/262.14k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates (--/524.80k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates/bias (512, 512/512 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates/kernel (1024x512, 524.29k/524.29k params)
              model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1 (--/393.98k params)
                model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell (--/393.98k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate (--/131.33k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate/bias (256, 256/256 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates (--/262.66k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates/bias (512, 512/512 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
            model/att_seq2seq/decode/attention_decoder/decoder/logits (--/88.41k params)
              model/att_seq2seq/decode/attention_decoder/decoder/logits/biases (344, 344/344 params)
              model/att_seq2seq/decode/attention_decoder/decoder/logits/weights (256x344, 88.06k/88.06k params)
        model/att_seq2seq/decode/target_embedding (--/88.06k params)
          model/att_seq2seq/decode/target_embedding/W (344x256, 88.06k/88.06k params)
      model/att_seq2seq/encode (--/876.54k params)
        model/att_seq2seq/encode/bidi_rnn_encoder (--/787.97k params)
          model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn (--/787.97k params)
            model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw (--/393.98k params)
              model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell (--/393.98k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate (--/131.33k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate/bias (256, 256/256 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates (--/262.66k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates/bias (512, 512/512 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
            model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw (--/393.98k params)
              model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell (--/393.98k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate (--/131.33k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate/bias (256, 256/256 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates (--/262.66k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates/bias (512, 512/512 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
        model/att_seq2seq/encode/source_embedding (--/88.58k params)
          model/att_seq2seq/encode/source_embedding/W (346x256, 88.58k/88.58k params)

INFO:tensorflow:Graph was finalized.
INFO:tensorflow:Restoring parameters from /home/scratch/sywang/project/dataset/android/50/model.ckpt-3000
INFO:tensorflow:Running local_init_op.
INFO:tensorflow:Done running local_init_op.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:Saving checkpoints for 3000 into /home/scratch/sywang/project/dataset/android/50/model.ckpt.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:loss = 1.4478922, step = 3001
INFO:tensorflow:global_step/sec: 1.93125
INFO:tensorflow:loss = 1.7506396, step = 3101 (51.780 sec)
INFO:tensorflow:global_step/sec: 2.06186
INFO:tensorflow:loss = 1.7377197, step = 3201 (48.500 sec)
INFO:tensorflow:global_step/sec: 2.14399
INFO:tensorflow:loss = 1.1686199, step = 3301 (46.641 sec)
INFO:tensorflow:global_step/sec: 2.13297
INFO:tensorflow:loss = 1.3492886, step = 3401 (46.884 sec)
INFO:tensorflow:global_step/sec: 2.12315
INFO:tensorflow:loss = 1.7202053, step = 3501 (47.103 sec)
INFO:tensorflow:global_step/sec: 2.13141
INFO:tensorflow:loss = 1.386775, step = 3601 (46.913 sec)
INFO:tensorflow:global_step/sec: 2.10806
INFO:tensorflow:loss = 1.5068941, step = 3701 (47.440 sec)
INFO:tensorflow:global_step/sec: 2.11156
INFO:tensorflow:loss = 1.17575, step = 3801 (47.358 sec)
INFO:tensorflow:global_step/sec: 2.09703
INFO:tensorflow:loss = 1.5666803, step = 3901 (47.685 sec)
INFO:tensorflow:Saving checkpoints for 4000 into /home/scratch/sywang/project/dataset/android/50/model.ckpt.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:Loss for final step: 1.5799655.
INFO:tensorflow:Evaluating model now.
INFO:tensorflow:Creating AttentionSeq2Seq in mode=eval
INFO:tensorflow:
AttentionSeq2Seq:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  bridge.params: {}
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  embedding.init_scale: 0.04
  embedding.share: false
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  inference.beam_search.beam_width: 0
  inference.beam_search.choose_successors_fn: choose_top_k
  inference.beam_search.length_penalty_weight: 0.0
  optimizer.clip_embed_gradients: 0.1
  optimizer.clip_gradients: 5.0
  optimizer.learning_rate: 0.0001
  optimizer.lr_decay_rate: 0.99
  optimizer.lr_decay_steps: 100
  optimizer.lr_decay_type: ''
  optimizer.lr_min_learning_rate: 1.0e-12
  optimizer.lr_staircase: false
  optimizer.lr_start_decay_at: 0
  optimizer.lr_stop_decay_at: 2147483647
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  optimizer.sync_replicas: 0
  optimizer.sync_replicas_to_aggregate: 0
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50
  vocab_source: /home/scratch/sywang/project/dataset/android/50//train/vocab.buggy.txt
  vocab_target: /home/scratch/sywang/project/dataset/android/50//train/vocab.fixed.txt

INFO:tensorflow:Creating vocabulary lookup table of size 346
INFO:tensorflow:Creating vocabulary lookup table of size 344
INFO:tensorflow:Creating BidirectionalRNNEncoder in mode=eval
INFO:tensorflow:
BidirectionalRNNEncoder:
  init_scale: 0.04
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 1
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating AttentionLayerBahdanau in mode=eval
INFO:tensorflow:
AttentionLayerBahdanau: {num_units: 256}

INFO:tensorflow:Creating AttentionDecoder in mode=eval
INFO:tensorflow:
AttentionDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating ZeroBridge in mode=eval
INFO:tensorflow:
ZeroBridge: {}

INFO:tensorflow:Starting evaluation at 2018-10-01-17:51:11
INFO:tensorflow:Graph was finalized.
INFO:tensorflow:Restoring parameters from /home/scratch/sywang/project/dataset/android/50/model.ckpt-4000
INFO:tensorflow:Running local_init_op.
INFO:tensorflow:Done running local_init_op.
INFO:tensorflow:Finished evaluation at 2018-10-01-17:51:15
INFO:tensorflow:Saving dict for global step 4000: bleu = 32.02, global_step = 4000, log_perplexity = 1.4090221, loss = 1.4089795
INFO:tensorflow:Training model for 1000 steps
INFO:tensorflow:Creating AttentionSeq2Seq in mode=train
INFO:tensorflow:
AttentionSeq2Seq:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  bridge.params: {}
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  embedding.init_scale: 0.04
  embedding.share: false
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  inference.beam_search.beam_width: 0
  inference.beam_search.choose_successors_fn: choose_top_k
  inference.beam_search.length_penalty_weight: 0.0
  optimizer.clip_embed_gradients: 0.1
  optimizer.clip_gradients: 5.0
  optimizer.learning_rate: 0.0001
  optimizer.lr_decay_rate: 0.99
  optimizer.lr_decay_steps: 100
  optimizer.lr_decay_type: ''
  optimizer.lr_min_learning_rate: 1.0e-12
  optimizer.lr_staircase: false
  optimizer.lr_start_decay_at: 0
  optimizer.lr_stop_decay_at: 2147483647
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  optimizer.sync_replicas: 0
  optimizer.sync_replicas_to_aggregate: 0
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50
  vocab_source: /home/scratch/sywang/project/dataset/android/50//train/vocab.buggy.txt
  vocab_target: /home/scratch/sywang/project/dataset/android/50//train/vocab.fixed.txt

INFO:tensorflow:Creating vocabulary lookup table of size 346
INFO:tensorflow:Creating vocabulary lookup table of size 344
INFO:tensorflow:Creating BidirectionalRNNEncoder in mode=train
INFO:tensorflow:
BidirectionalRNNEncoder:
  init_scale: 0.04
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 1
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating AttentionLayerBahdanau in mode=train
INFO:tensorflow:
AttentionLayerBahdanau: {num_units: 256}

INFO:tensorflow:Creating AttentionDecoder in mode=train
INFO:tensorflow:
AttentionDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating ZeroBridge in mode=train
INFO:tensorflow:
ZeroBridge: {}

INFO:tensorflow:Create CheckpointSaverHook.
-dump_to_file option is deprecated. Please use -output file:outfile=<filename>
-output stdout is overwritten with -output file:outfile=/home/scratch/sywang/project/dataset/android/50/model_analysis.txt
64 ops no flops stats due to incomplete shapes.
INFO:tensorflow:
Doc:
scope: The nodes in the model graph are organized by their names, which is hierarchical like filesystem.
param: Number of parameters (in the Variable).

Profile:
node name | # parameters
_TFProfRoot (--/2.63m params)
  model (--/2.63m params)
    model/att_seq2seq (--/2.63m params)
      model/att_seq2seq/Variable (1, 1/1 params)
      model/att_seq2seq/decode (--/1.75m params)
        model/att_seq2seq/decode/attention (--/197.38k params)
          model/att_seq2seq/decode/attention/att_keys (--/131.33k params)
            model/att_seq2seq/decode/attention/att_keys/biases (256, 256/256 params)
            model/att_seq2seq/decode/attention/att_keys/weights (512x256, 131.07k/131.07k params)
          model/att_seq2seq/decode/attention/att_query (--/65.79k params)
            model/att_seq2seq/decode/attention/att_query/biases (256, 256/256 params)
            model/att_seq2seq/decode/attention/att_query/weights (256x256, 65.54k/65.54k params)
          model/att_seq2seq/decode/attention/v_att (256, 256/256 params)
        model/att_seq2seq/decode/attention_decoder (--/1.47m params)
          model/att_seq2seq/decode/attention_decoder/decoder (--/1.47m params)
            model/att_seq2seq/decode/attention_decoder/decoder/attention_mix (--/196.86k params)
              model/att_seq2seq/decode/attention_decoder/decoder/attention_mix/biases (256, 256/256 params)
              model/att_seq2seq/decode/attention_decoder/decoder/attention_mix/weights (768x256, 196.61k/196.61k params)
            model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell (--/1.18m params)
              model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0 (--/787.20k params)
                model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell (--/787.20k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate (--/262.40k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate/bias (256, 256/256 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/candidate/kernel (1024x256, 262.14k/262.14k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates (--/524.80k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates/bias (512, 512/512 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_0/gru_cell/gates/kernel (1024x512, 524.29k/524.29k params)
              model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1 (--/393.98k params)
                model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell (--/393.98k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate (--/131.33k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate/bias (256, 256/256 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                  model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates (--/262.66k params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates/bias (512, 512/512 params)
                    model/att_seq2seq/decode/attention_decoder/decoder/extended_multi_rnn_cell/cell_1/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
            model/att_seq2seq/decode/attention_decoder/decoder/logits (--/88.41k params)
              model/att_seq2seq/decode/attention_decoder/decoder/logits/biases (344, 344/344 params)
              model/att_seq2seq/decode/attention_decoder/decoder/logits/weights (256x344, 88.06k/88.06k params)
        model/att_seq2seq/decode/target_embedding (--/88.06k params)
          model/att_seq2seq/decode/target_embedding/W (344x256, 88.06k/88.06k params)
      model/att_seq2seq/encode (--/876.54k params)
        model/att_seq2seq/encode/bidi_rnn_encoder (--/787.97k params)
          model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn (--/787.97k params)
            model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw (--/393.98k params)
              model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell (--/393.98k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate (--/131.33k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate/bias (256, 256/256 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates (--/262.66k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates/bias (512, 512/512 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/bw/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
            model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw (--/393.98k params)
              model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell (--/393.98k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate (--/131.33k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate/bias (256, 256/256 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/candidate/kernel (512x256, 131.07k/131.07k params)
                model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates (--/262.66k params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates/bias (512, 512/512 params)
                  model/att_seq2seq/encode/bidi_rnn_encoder/bidirectional_rnn/fw/gru_cell/gates/kernel (512x512, 262.14k/262.14k params)
        model/att_seq2seq/encode/source_embedding (--/88.58k params)
          model/att_seq2seq/encode/source_embedding/W (346x256, 88.58k/88.58k params)

INFO:tensorflow:Graph was finalized.
INFO:tensorflow:Restoring parameters from /home/scratch/sywang/project/dataset/android/50/model.ckpt-4000
INFO:tensorflow:Running local_init_op.
INFO:tensorflow:Done running local_init_op.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:Saving checkpoints for 4000 into /home/scratch/sywang/project/dataset/android/50/model.ckpt.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:loss = 1.4396303, step = 4001
INFO:tensorflow:global_step/sec: 1.94403
INFO:tensorflow:loss = 1.3757746, step = 4101 (51.441 sec)
INFO:tensorflow:global_step/sec: 2.08807
INFO:tensorflow:loss = 1.3045944, step = 4201 (47.891 sec)
INFO:tensorflow:global_step/sec: 2.13733
INFO:tensorflow:loss = 1.2773235, step = 4301 (46.787 sec)
INFO:tensorflow:global_step/sec: 2.11558
INFO:tensorflow:loss = 1.0527396, step = 4401 (47.269 sec)
INFO:tensorflow:global_step/sec: 2.09407
INFO:tensorflow:loss = 1.5318091, step = 4501 (47.754 sec)
INFO:tensorflow:global_step/sec: 2.10794
INFO:tensorflow:loss = 1.4712616, step = 4601 (47.440 sec)
INFO:tensorflow:global_step/sec: 2.15137
INFO:tensorflow:loss = 1.0992785, step = 4701 (46.484 sec)
INFO:tensorflow:global_step/sec: 2.13484
INFO:tensorflow:loss = 1.4634277, step = 4801 (46.841 sec)
INFO:tensorflow:global_step/sec: 2.14805
INFO:tensorflow:loss = 1.4483175, step = 4901 (46.556 sec)
INFO:tensorflow:Saving checkpoints for 5000 into /home/scratch/sywang/project/dataset/android/50/model.ckpt.
WARNING:tensorflow:Issue encountered when serializing variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
WARNING:tensorflow:Issue encountered when serializing trainable_variables.
Type is unsupported, or the types of the items don't match field type in CollectionDef. Note this is a warning and probably safe to ignore.
'tokens_counter' has type str, but expected one of: int, long, bool
INFO:tensorflow:Loss for final step: 1.0707064.
INFO:tensorflow:Evaluating model now.
INFO:tensorflow:Creating AttentionSeq2Seq in mode=eval
INFO:tensorflow:
AttentionSeq2Seq:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  bridge.params: {}
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  embedding.init_scale: 0.04
  embedding.share: false
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  inference.beam_search.beam_width: 0
  inference.beam_search.choose_successors_fn: choose_top_k
  inference.beam_search.length_penalty_weight: 0.0
  optimizer.clip_embed_gradients: 0.1
  optimizer.clip_gradients: 5.0
  optimizer.learning_rate: 0.0001
  optimizer.lr_decay_rate: 0.99
  optimizer.lr_decay_steps: 100
  optimizer.lr_decay_type: ''
  optimizer.lr_min_learning_rate: 1.0e-12
  optimizer.lr_staircase: false
  optimizer.lr_start_decay_at: 0
  optimizer.lr_stop_decay_at: 2147483647
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  optimizer.sync_replicas: 0
  optimizer.sync_replicas_to_aggregate: 0
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50
  vocab_source: /home/scratch/sywang/project/dataset/android/50//train/vocab.buggy.txt
  vocab_target: /home/scratch/sywang/project/dataset/android/50//train/vocab.fixed.txt

INFO:tensorflow:Creating vocabulary lookup table of size 346
INFO:tensorflow:Creating vocabulary lookup table of size 344
INFO:tensorflow:Creating BidirectionalRNNEncoder in mode=eval
INFO:tensorflow:
BidirectionalRNNEncoder:
  init_scale: 0.04
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 1
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating AttentionLayerBahdanau in mode=eval
INFO:tensorflow:
AttentionLayerBahdanau: {num_units: 256}

INFO:tensorflow:Creating AttentionDecoder in mode=eval
INFO:tensorflow:
AttentionDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating ZeroBridge in mode=eval
INFO:tensorflow:
ZeroBridge: {}

INFO:tensorflow:Starting evaluation at 2018-10-01-17:59:21
INFO:tensorflow:Graph was finalized.
INFO:tensorflow:Restoring parameters from /home/scratch/sywang/project/dataset/android/50/model.ckpt-5000
INFO:tensorflow:Running local_init_op.
INFO:tensorflow:Done running local_init_op.
INFO:tensorflow:Finished evaluation at 2018-10-01-17:59:25
INFO:tensorflow:Saving dict for global step 5000: bleu = 35.95, global_step = 5000, log_perplexity = 1.3045413, loss = 1.3039997
INFO:tensorflow:Stop training model as max steps reached
Parsing Inputs...
Parsing Inputs...
Parsing Inputs...
Parsing Inputs...
Parsing Inputs...
--------------- TRAINING ENDED ---------------------
------------------- TESTING GREEDY ------------------------
/home/scratch/sywang/anaconda3/lib/python3.5/site-packages/sklearn/utils/fixes.py:64: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() instead
  if 'order' in inspect.getargspec(np.copy)[0]:
INFO:tensorflow:Creating ParallelTextInputPipeline in mode=infer
INFO:tensorflow:
ParallelTextInputPipeline:
  num_epochs: 1
  shuffle: false
  source_delimiter: ' '
  source_files: [/home/scratch/sywang/project/dataset/android/50//test/buggy.txt]
  target_delimiter: ' '
  target_files: []

INFO:tensorflow:Creating AttentionSeq2Seq in mode=infer
INFO:tensorflow:
AttentionSeq2Seq:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  bridge.params: {}
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  embedding.init_scale: 0.04
  embedding.share: false
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  inference.beam_search.beam_width: 0
  inference.beam_search.choose_successors_fn: choose_top_k
  inference.beam_search.length_penalty_weight: 0.0
  optimizer.clip_embed_gradients: 0.1
  optimizer.clip_gradients: 5.0
  optimizer.learning_rate: 0.0001
  optimizer.lr_decay_rate: 0.99
  optimizer.lr_decay_steps: 100
  optimizer.lr_decay_type: ''
  optimizer.lr_min_learning_rate: 1.0e-12
  optimizer.lr_staircase: false
  optimizer.lr_start_decay_at: 0
  optimizer.lr_stop_decay_at: 2147483647
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  optimizer.sync_replicas: 0
  optimizer.sync_replicas_to_aggregate: 0
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50
  vocab_source: /home/scratch/sywang/project/dataset/android/50//train/vocab.buggy.txt
  vocab_target: /home/scratch/sywang/project/dataset/android/50//train/vocab.fixed.txt

INFO:tensorflow:Creating DecodeText in mode=infer
INFO:tensorflow:
DecodeText: {delimiter: ' ', postproc_fn: '', unk_mapping: null, unk_replace: false}

INFO:tensorflow:Creating vocabulary lookup table of size 346
INFO:tensorflow:Creating vocabulary lookup table of size 344
INFO:tensorflow:Creating BidirectionalRNNEncoder in mode=infer
INFO:tensorflow:
BidirectionalRNNEncoder:
  init_scale: 0.04
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 1
    residual_combiner: add
    residual_connections: false
    residual_dense: false

WARNING:tensorflow:From /home/scratch/sywang/anaconda3/lib/python3.5/site-packages/tensorflow/python/ops/rnn.py:430: calling reverse_sequence (from tensorflow.python.ops.array_ops) with seq_dim is deprecated and will be removed in a future version.
Instructions for updating:
seq_dim is deprecated, use seq_axis instead
WARNING:tensorflow:From /home/scratch/sywang/anaconda3/lib/python3.5/site-packages/tensorflow/python/util/deprecation.py:454: calling reverse_sequence (from tensorflow.python.ops.array_ops) with batch_dim is deprecated and will be removed in a future version.
Instructions for updating:
batch_dim is deprecated, use batch_axis instead
INFO:tensorflow:Creating AttentionLayerBahdanau in mode=infer
INFO:tensorflow:
AttentionLayerBahdanau: {num_units: 256}

INFO:tensorflow:Creating AttentionDecoder in mode=infer
INFO:tensorflow:
AttentionDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating ZeroBridge in mode=infer
INFO:tensorflow:
ZeroBridge: {}

WARNING:tensorflow:From /home/scratch/sywang/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/function.py:986: calling Graph.create_op (from tensorflow.python.framework.ops) with compute_shapes is deprecated and will be removed in a future version.
Instructions for updating:
Shapes are always computed; don't use the compute_shapes as it has no effect.
INFO:tensorflow:Graph was finalized.
2018-10-01 13:59:33.215834: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
INFO:tensorflow:Restoring parameters from /home/scratch/sywang/project/dataset/android/50/model.ckpt-5000
INFO:tensorflow:Restored model from /home/scratch/sywang/project/dataset/android/50/model.ckpt-5000
INFO:tensorflow:Running local_init_op.
INFO:tensorflow:Done running local_init_op.
------------------- TESTING BEAM SEARCH ------------------------
/home/scratch/sywang/anaconda3/lib/python3.5/site-packages/sklearn/utils/fixes.py:64: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() instead
  if 'order' in inspect.getargspec(np.copy)[0]:
INFO:tensorflow:Creating ParallelTextInputPipeline in mode=infer
INFO:tensorflow:
ParallelTextInputPipeline:
  num_epochs: 1
  shuffle: false
  source_delimiter: ' '
  source_files: [/home/scratch/sywang/project/dataset/android/50//test/buggy.txt]
  target_delimiter: ' '
  target_files: []

INFO:tensorflow:Creating AttentionSeq2Seq in mode=infer
INFO:tensorflow:
AttentionSeq2Seq:
  attention.class: seq2seq.decoders.attention.AttentionLayerBahdanau
  attention.params: {num_units: 256}
  bridge.class: seq2seq.models.bridges.ZeroBridge
  bridge.params: {}
  decoder.class: seq2seq.decoders.AttentionDecoder
  decoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 2
  embedding.dim: 256
  embedding.init_scale: 0.04
  embedding.share: false
  encoder.class: seq2seq.encoders.BidirectionalRNNEncoder
  encoder.params:
    rnn_cell:
      cell_class: GRUCell
      cell_params: {num_units: 256}
      dropout_input_keep_prob: 0.8
      dropout_output_keep_prob: 1.0
      num_layers: 1
  inference.beam_search.beam_width: 5
  inference.beam_search.choose_successors_fn: choose_top_k
  inference.beam_search.length_penalty_weight: 0.0
  optimizer.clip_embed_gradients: 0.1
  optimizer.clip_gradients: 5.0
  optimizer.learning_rate: 0.0001
  optimizer.lr_decay_rate: 0.99
  optimizer.lr_decay_steps: 100
  optimizer.lr_decay_type: ''
  optimizer.lr_min_learning_rate: 1.0e-12
  optimizer.lr_staircase: false
  optimizer.lr_start_decay_at: 0
  optimizer.lr_stop_decay_at: 2147483647
  optimizer.name: Adam
  optimizer.params: {epsilon: 8.0e-07}
  optimizer.sync_replicas: 0
  optimizer.sync_replicas_to_aggregate: 0
  source.max_seq_len: 50
  source.reverse: false
  target.max_seq_len: 50
  vocab_source: /home/scratch/sywang/project/dataset/android/50//train/vocab.buggy.txt
  vocab_target: /home/scratch/sywang/project/dataset/android/50//train/vocab.fixed.txt

INFO:tensorflow:Creating DecodeText in mode=infer
INFO:tensorflow:
DecodeText: {delimiter: ' ', postproc_fn: '', unk_mapping: null, unk_replace: false}

INFO:tensorflow:Creating DumpBeams in mode=infer
INFO:tensorflow:
DumpBeams: {file: /home/scratch/sywang/project/dataset/android/50//pred/beams.npz}

INFO:tensorflow:Setting batch size to 1 for beam search.
INFO:tensorflow:Creating vocabulary lookup table of size 346
INFO:tensorflow:Creating vocabulary lookup table of size 344
INFO:tensorflow:Creating BidirectionalRNNEncoder in mode=infer
INFO:tensorflow:
BidirectionalRNNEncoder:
  init_scale: 0.04
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 1
    residual_combiner: add
    residual_connections: false
    residual_dense: false

WARNING:tensorflow:From /home/scratch/sywang/anaconda3/lib/python3.5/site-packages/tensorflow/python/ops/rnn.py:430: calling reverse_sequence (from tensorflow.python.ops.array_ops) with seq_dim is deprecated and will be removed in a future version.
Instructions for updating:
seq_dim is deprecated, use seq_axis instead
WARNING:tensorflow:From /home/scratch/sywang/anaconda3/lib/python3.5/site-packages/tensorflow/python/util/deprecation.py:454: calling reverse_sequence (from tensorflow.python.ops.array_ops) with batch_dim is deprecated and will be removed in a future version.
Instructions for updating:
batch_dim is deprecated, use batch_axis instead
INFO:tensorflow:Creating AttentionLayerBahdanau in mode=infer
INFO:tensorflow:
AttentionLayerBahdanau: {num_units: 256}

INFO:tensorflow:Creating AttentionDecoder in mode=infer
INFO:tensorflow:
AttentionDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 0.8
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating BeamSearchDecoder in mode=infer
INFO:tensorflow:
BeamSearchDecoder:
  init_scale: 0.04
  max_decode_length: 100
  rnn_cell:
    cell_class: GRUCell
    cell_params: {num_units: 256}
    dropout_input_keep_prob: 1.0
    dropout_output_keep_prob: 1.0
    num_layers: 2
    residual_combiner: add
    residual_connections: false
    residual_dense: false

INFO:tensorflow:Creating ZeroBridge in mode=infer
INFO:tensorflow:
ZeroBridge: {}

WARNING:tensorflow:From /home/scratch/sywang/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/function.py:986: calling Graph.create_op (from tensorflow.python.framework.ops) with compute_shapes is deprecated and will be removed in a future version.
Instructions for updating:
Shapes are always computed; don't use the compute_shapes as it has no effect.
INFO:tensorflow:Graph was finalized.
2018-10-01 13:59:45.900581: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
INFO:tensorflow:Restoring parameters from /home/scratch/sywang/project/dataset/android/50/model.ckpt-5000
INFO:tensorflow:Restored model from /home/scratch/sywang/project/dataset/android/50/model.ckpt-5000
INFO:tensorflow:Running local_init_op.
INFO:tensorflow:Done running local_init_op.
------------------- BLEU ------------------------
buggy vs fixed
BLEU = 77.62, 85.1/80.2/75.3/70.6 (BP=1.000, ratio=1.106, hyp_len=12789, ref_len=11564)
prediction vs fixed
BLEU = 28.83, 59.6/38.5/23.7/14.0 (BP=0.977, ratio=0.978, hyp_len=11304, ref_len=11564)
prediction.beam vs fixed
BLEU = 25.21, 75.4/50.4/31.2/18.4 (BP=0.655, ratio=0.703, hyp_len=8130, ref_len=11564)
------------------- CLASSIFICATION ------------------------
Predictions
Perf: python3:
Pot : can't
Bad : open
Predictions.beam
Perf: python3:
Pot : can't
Bad : open
